{
  "nodes": [
    {
      "parameters": {
        "toolDescription": "Lists machine document contexts with reference management and filtering. Use when users ask 'show all machine documents', 'recent documentation uploads', 'documents by category', 'shared documents'. Provides comprehensive document management with reference tracking across assets, customer machines, and machine models.",
        "endpoint": "={{ $('hubTalk Input').first().json.graphqlEndpoint }}",
        "query": "query tableMachineDocumentContexts($options: MachineDocumentContextOptions) {\n  machineDocumentContextsPaginated(options: $options) {\n    data {\n      machineDocument {\n        id\n        category\n        createdAt\n        createdBy {\n          id\n          name\n          __typename\n        }\n        fileDomainType\n        documentType\n        documentUrl\n        label\n        language\n        owner {\n          id\n          name\n          __typename\n        }\n        __typename\n      }\n      references {\n        ... on Asset {\n          id\n          displayName\n          machine {\n            id\n            serialNumber\n            __typename\n          }\n          __typename\n        }\n        ... on CustomerMachine {\n          id\n          machine {\n            id\n            serialNumber\n            __typename\n          }\n          __typename\n        }\n        ... on MachineModel {\n          id\n          modelName\n          brand\n          technology\n          __typename\n        }\n        __typename\n      }\n      isArchived\n      isShared\n      totalNumberOfReferences\n      __typename\n    }\n    pageInfo {\n      currentPage\n      totalPages\n      totalElements\n      __typename\n    }\n    __typename\n  }\n}",
        "variables": "={{ {\n  \"options\": $fromAI('options', {\n    \"filter\": {},\n    \"sortBy\": [{\n      \"machineDocument\": {\n        \"createdAt\": \"DESC\"\n      }\n    }],\n    \"pagination\": {\n      \"page\": 0,\n      \"pageSize\": 10\n    }\n  }, 'object')\n} }}",
        "operationName": "tableMachineDocumentContexts",
        "headerParametersUi": {
          "parameter": [
            {
              "name": "Authorization",
              "value": "=Bearer {{ $('hubTalk Input').first().json.token }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.graphqlTool",
      "typeVersion": 1.1,
      "position": [
        384,
        336
      ],
      "id": "getMachineDocumentContexts-tool-id",
      "name": "getMachineDocumentContexts",
      "alwaysOutputData": true,
      "onError": "continueErrorOutput"
    }
  ],
  "connections": {
    "getMachineDocumentContexts": {
      "ai_tool": [
        []
      ]
    }
  },
  "pinData": {},
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "90f7e16e88b8af51a9fefb468989df8864c6fa45b8b0deeeccb82ce7f608fa65"
  }
}